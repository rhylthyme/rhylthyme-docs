{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to Rhylthyme","text":"<p>A framework for defining, validating, and executing real-time program schedules with resource management.</p>"},{"location":"#what-is-rhylthyme","title":"What is Rhylthyme?","text":"<p>Rhylthyme lets you model complex workflows as programs composed of tracks and steps, with timing dependencies and optional resource constraints. Programs are defined in JSON and can be run interactively in the terminal, visualized in a web UI, or imported from external sources like recipe databases and lab protocols.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Program Definition: Define workflows using JSON with tracks, steps, and timing dependencies</li> <li>Real-time Execution: Interactive terminal UI for monitoring and controlling program execution</li> <li>Web Visualization: Browser-based DAG visualization and AI chat for program creation</li> <li>Import Plugins: Import programs from TheMealDB, protocols.io, and other sources</li> <li>Resource Management: Optional environment catalogs for resource validation</li> <li>Validation: Schema validation and semantic checks</li> <li>Optimization: Built-in schedule optimization to reduce resource contention</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Requires Python &gt;= 3.12\n\n# Clone and install core packages\ngit clone https://github.com/rhylthyme/rhylthyme-spec.git\ngit clone https://github.com/rhylthyme/rhylthyme-cli-runner.git\n\npip install -e ./rhylthyme-spec\npip install -e ./rhylthyme-cli-runner\n\n# Create a simple program\ncat &gt; hello.json &lt;&lt; 'EOF'\n{\n  \"programId\": \"hello-world\",\n  \"name\": \"Hello World\",\n  \"tracks\": [\n    {\n      \"trackId\": \"main\",\n      \"name\": \"Main Track\",\n      \"steps\": [\n        {\n          \"stepId\": \"greet\",\n          \"name\": \"Greet\",\n          \"task\": \"greeting\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 5},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        }\n      ]\n    }\n  ]\n}\nEOF\n\n# Run the program\nrhylthyme run hello.json\n</code></pre>"},{"location":"#packages","title":"Packages","text":"<p>Rhylthyme is composed of several modular packages:</p> Package Description rhylthyme-spec JSON schema definitions and validation rhylthyme-cli-runner Command-line interface and interactive program execution rhylthyme-examples Example programs and environment catalogs rhylthyme-web Web visualization, MCP server, and AI chat interface rhylthyme-importers Import plugins for TheMealDB, protocols.io, and more"},{"location":"#interactive-features","title":"Interactive Features","text":"<p>When you run a program with <code>rhylthyme run</code>, you get an interactive terminal UI with:</p> <ul> <li>Real-time Monitoring: Watch program execution as it happens</li> <li>Manual Control: Trigger steps manually when needed</li> <li>Resource Tracking: Monitor resource usage and constraints</li> <li>Time Scaling: Adjust execution speed for testing</li> </ul>"},{"location":"#environment-support","title":"Environment Support","text":"<p>Environments are completely optional and model real-world resource constraints:</p> <ul> <li>Kitchen: Stove burners, prep stations, cleanup</li> <li>Laboratory: Bench space, equipment, safety protocols</li> <li>Airport: Runways, gates, taxiways</li> <li>Bakery: Mixers, ovens, work benches</li> </ul>"},{"location":"#license","title":"License","text":"<p>Rhylthyme is open source software licensed under Apache-2.0.</p>"},{"location":"environment-guide/","title":"Environment Guide","text":"<p>Environments in Rhylthyme are completely optional. They model real-world resource constraints, helping validate that programs don't exceed resource limits.</p>"},{"location":"environment-guide/#when-to-use-environments","title":"When to Use Environments","text":"<p>Use environments when you need resource validation, overutilization detection, or want to model physical constraints (kitchen equipment, lab space, etc.).</p> <p>Skip environments for simple programs, during development, or when you manage resources differently.</p>"},{"location":"environment-guide/#environment-file-format","title":"Environment File Format","text":"<pre><code>{\n  \"environmentId\": \"kitchen-001\",\n  \"name\": \"Home Kitchen\",\n  \"type\": \"kitchen\",\n  \"resources\": [\n    {\n      \"resourceId\": \"stove-burner-1\",\n      \"name\": \"Stove Burner 1\",\n      \"type\": \"stove-burner\",\n      \"capacity\": 1\n    },\n    {\n      \"resourceId\": \"prep-station-1\",\n      \"name\": \"Prep Station 1\",\n      \"type\": \"prep-station\",\n      \"capacity\": 1\n    }\n  ]\n}\n</code></pre>"},{"location":"environment-guide/#environment-types","title":"Environment Types","text":""},{"location":"environment-guide/#kitchen","title":"Kitchen","text":"<p>Resource types: <code>stove-burner</code>, <code>prep-station</code>, <code>cleanup-station</code></p>"},{"location":"environment-guide/#laboratory","title":"Laboratory","text":"<p>Resource types: <code>bench-space</code>, <code>equipment</code>, <code>safety-station</code></p>"},{"location":"environment-guide/#airport","title":"Airport","text":"<p>Resource types: <code>runway</code>, <code>gate</code>, <code>taxiway</code></p>"},{"location":"environment-guide/#bakery","title":"Bakery","text":"<p>Resource types: <code>mixer</code>, <code>oven</code>, <code>work-bench</code></p>"},{"location":"environment-guide/#custom","title":"Custom","text":"<p>Any resource types allowed with <code>\"type\": \"custom\"</code>.</p>"},{"location":"environment-guide/#using-environments","title":"Using Environments","text":"<pre><code># Run without environment (default)\nrhylthyme run program.json\n\n# Run with environment for resource validation\nrhylthyme run program.json -e environments/kitchen.json\n\n# List available environments\nrhylthyme environments\n\n# Validate environment files\nrhylthyme validate-environments\n\n# Get environment type info\nrhylthyme environment-info kitchen\n</code></pre>"},{"location":"environment-guide/#programs-with-resources","title":"Programs with Resources","text":"<p>Steps can declare resource requirements that are validated against the environment:</p> <pre><code>{\n  \"stepId\": \"cook-pasta\",\n  \"name\": \"Cook Pasta\",\n  \"task\": \"cooking\",\n  \"duration\": {\"type\": \"fixed\", \"seconds\": 600},\n  \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"boil-water\"},\n  \"resources\": [\n    {\n      \"resourceId\": \"stove-burner-1\",\n      \"type\": \"stove-burner\",\n      \"quantity\": 1\n    }\n  ]\n}\n</code></pre>"},{"location":"environment-guide/#resource-validation","title":"Resource Validation","text":"<p>When you run a program with an environment, Rhylthyme checks:</p> <ol> <li>All required resources exist in the environment</li> <li>Program doesn't exceed resource capacity</li> <li>No overlapping resource usage beyond limits</li> <li>Resource types match between program and environment</li> </ol>"},{"location":"environment-guide/#configuration","title":"Configuration","text":"<pre><code># Set default environment directory\nexport RHYLTHYME_ENVIRONMENTS_DIR=/path/to/environments\n\n# Use specific directory for a command\nrhylthyme --environments-dir /path/to/environments environments\n</code></pre>"},{"location":"environment-guide/#further-reading","title":"Further Reading","text":"<ul> <li>Environment Schema Reference - Complete schema documentation</li> <li>Examples - Programs with environment usage</li> <li>rhylthyme-examples - Working examples</li> </ul>"},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#basic-program","title":"Basic Program","text":"<p>A minimal program with sequential steps:</p> <pre><code>{\n  \"programId\": \"hello-world\",\n  \"name\": \"Hello World\",\n  \"tracks\": [\n    {\n      \"trackId\": \"main\",\n      \"name\": \"Main Track\",\n      \"steps\": [\n        {\n          \"stepId\": \"greet\",\n          \"name\": \"Greet\",\n          \"task\": \"greeting\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 5},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"farewell\",\n          \"name\": \"Farewell\",\n          \"task\": \"farewell\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 3},\n          \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"greet\"}\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <pre><code>rhylthyme run hello-world.json\n</code></pre>"},{"location":"examples/#kitchen-pasta-dinner","title":"Kitchen: Pasta Dinner","text":"<p>A cooking program with parallel tracks:</p> <pre><code>{\n  \"programId\": \"pasta-dinner\",\n  \"name\": \"Pasta Dinner\",\n  \"tracks\": [\n    {\n      \"trackId\": \"pasta\",\n      \"name\": \"Pasta\",\n      \"steps\": [\n        {\n          \"stepId\": \"boil-water\",\n          \"name\": \"Boil Water\",\n          \"task\": \"boiling\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 300},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"cook-pasta\",\n          \"name\": \"Cook Pasta\",\n          \"task\": \"cooking\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 600},\n          \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"boil-water\"}\n        }\n      ]\n    },\n    {\n      \"trackId\": \"sauce\",\n      \"name\": \"Sauce\",\n      \"steps\": [\n        {\n          \"stepId\": \"prep-vegetables\",\n          \"name\": \"Chop Vegetables\",\n          \"task\": \"preparation\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 600},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"cook-sauce\",\n          \"name\": \"Cook Sauce\",\n          \"task\": \"cooking\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 900},\n          \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"prep-vegetables\"}\n        }\n      ]\n    }\n  ],\n  \"resourceConstraints\": [\n    {\"task\": \"cooking\", \"maxConcurrent\": 4, \"description\": \"Stove burners\"},\n    {\"task\": \"preparation\", \"maxConcurrent\": 2, \"description\": \"Prep stations\"}\n  ]\n}\n</code></pre>"},{"location":"examples/#laboratory-chemistry-experiment","title":"Laboratory: Chemistry Experiment","text":"<pre><code>{\n  \"programId\": \"chemistry-experiment\",\n  \"name\": \"Chemistry Experiment\",\n  \"tracks\": [\n    {\n      \"trackId\": \"experiment\",\n      \"name\": \"Experiment\",\n      \"steps\": [\n        {\n          \"stepId\": \"prepare-samples\",\n          \"name\": \"Prepare Samples\",\n          \"task\": \"preparation\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 1200},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"run-analysis\",\n          \"name\": \"Run Analysis\",\n          \"task\": \"measurement\",\n          \"duration\": {\n            \"type\": \"variable\",\n            \"minSeconds\": 1200,\n            \"maxSeconds\": 2400,\n            \"defaultSeconds\": 1800\n          },\n          \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"prepare-samples\"}\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"examples/#manual-triggers","title":"Manual Triggers","text":"<p>Steps that require user interaction:</p> <pre><code>{\n  \"programId\": \"manual-demo\",\n  \"name\": \"Manual Demo\",\n  \"tracks\": [\n    {\n      \"trackId\": \"main\",\n      \"name\": \"Main Track\",\n      \"steps\": [\n        {\n          \"stepId\": \"auto-step\",\n          \"name\": \"Automatic Step\",\n          \"task\": \"setup\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 10},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"manual-step\",\n          \"name\": \"Manual Step\",\n          \"task\": \"inspection\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 30},\n          \"startTrigger\": {\"type\": \"manual\"}\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>Press T during program execution to trigger manual steps.</p>"},{"location":"examples/#buffered-triggers","title":"Buffered Triggers","text":"<p>Steps with delays between them:</p> <pre><code>{\n  \"stepId\": \"rest-dough\",\n  \"name\": \"Rest Dough\",\n  \"task\": \"resting\",\n  \"duration\": {\"type\": \"fixed\", \"seconds\": 3600},\n  \"startTrigger\": {\"type\": \"afterStepWithBuffer\", \"stepId\": \"knead\", \"bufferSeconds\": 60}\n}\n</code></pre>"},{"location":"examples/#running-examples","title":"Running Examples","text":"<pre><code># Validate a program\nrhylthyme validate program.json\n\n# Run without environment\nrhylthyme run program.json\n\n# Run with environment for resource validation\nrhylthyme run program.json -e environments/kitchen.json\n\n# Optimize a program schedule\nrhylthyme plan input.json optimized.json\n</code></pre>"},{"location":"examples/#more-examples","title":"More Examples","text":"<p>See the rhylthyme-examples repository for complete working examples across kitchen, laboratory, airport, and bakery environments.</p>"},{"location":"installation/","title":"Installation Guide","text":""},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12 or higher</li> <li>pip (Python package installer)</li> <li>Git (for cloning repositories)</li> </ul>"},{"location":"installation/#installation","title":"Installation","text":"<p>The Rhylthyme packages are not yet on PyPI and must be installed from their Git repositories.</p>"},{"location":"installation/#1-create-a-virtual-environment","title":"1. Create a Virtual Environment","text":"<pre><code>python3.12 -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n</code></pre>"},{"location":"installation/#2-install-core-packages","title":"2. Install Core Packages","text":"<p>Install in order (rhylthyme-cli-runner depends on rhylthyme-spec):</p> <pre><code># Clone and install\ngit clone https://github.com/rhylthyme/rhylthyme-spec.git\ngit clone https://github.com/rhylthyme/rhylthyme-cli-runner.git\n\npip install -e ./rhylthyme-spec\npip install -e ./rhylthyme-cli-runner\n</code></pre>"},{"location":"installation/#3-verify-installation","title":"3. Verify Installation","text":"<pre><code>rhylthyme --help\n</code></pre>"},{"location":"installation/#4-optional-packages","title":"4. Optional Packages","text":"<pre><code># Example programs and environments\ngit clone https://github.com/rhylthyme/rhylthyme-examples.git\n\n# Web visualization and MCP server\ngit clone https://github.com/rhylthyme/rhylthyme-web.git\npip install -e ./rhylthyme-web\n\n# Import plugins (TheMealDB, protocols.io)\ngit clone https://github.com/rhylthyme/rhylthyme-importers.git\npip install -e ./rhylthyme-importers\n</code></pre>"},{"location":"installation/#package-overview","title":"Package Overview","text":"<pre><code>rhylthyme-spec/              # Schema definitions and validation\n\u251c\u2500\u2500 src/rhylthyme_spec/\n\u2502   \u2514\u2500\u2500 schemas/             # JSON schemas\n\u2514\u2500\u2500 pyproject.toml\n\nrhylthyme-cli-runner/        # Command-line interface\n\u251c\u2500\u2500 src/rhylthyme_cli_runner/\n\u2502   \u251c\u2500\u2500 cli.py              # Main CLI interface\n\u2502   \u251c\u2500\u2500 program_runner.py   # Program execution\n\u2502   \u251c\u2500\u2500 program_planner.py  # Schedule optimization\n\u2502   \u251c\u2500\u2500 validate_program.py # Program validation\n\u2502   \u251c\u2500\u2500 environment_loader.py  # Environment management\n\u2502   \u2514\u2500\u2500 environment_schemas.py # Environment type schemas\n\u2514\u2500\u2500 pyproject.toml\n\nrhylthyme-web/               # Web visualization\n\u251c\u2500\u2500 src/rhylthyme_web/\n\u2502   \u251c\u2500\u2500 app.py              # Flask web application\n\u2502   \u251c\u2500\u2500 web/                # DAG visualizer\n\u2502   \u251c\u2500\u2500 mcp/                # MCP server\n\u2502   \u2514\u2500\u2500 rhylthyme/          # Core library\n\u2514\u2500\u2500 pyproject.toml\n\nrhylthyme-importers/         # Import plugins\n\u251c\u2500\u2500 src/rhylthyme_importers/\n\u2502   \u251c\u2500\u2500 themealdb.py        # TheMealDB importer\n\u2502   \u2514\u2500\u2500 protocolsio.py      # protocols.io importer\n\u2514\u2500\u2500 pyproject.toml\n\nrhylthyme-examples/          # Example programs and environments\n\u251c\u2500\u2500 programs/               # Example programs\n\u2514\u2500\u2500 environments/           # Environment catalogs\n</code></pre>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#command-not-found-rhylthyme","title":"\"Command not found: rhylthyme\"","text":"<ul> <li>Ensure the virtual environment is activated</li> <li>Verify installation: <code>pip list | grep rhylthyme</code></li> <li>Reinstall: <code>pip install -e ./rhylthyme-cli-runner</code></li> </ul>"},{"location":"installation/#import-errors-for-rhylthyme_spec","title":"Import errors for rhylthyme_spec","text":"<ul> <li>Install the spec package first: <code>pip install -e ./rhylthyme-spec</code></li> </ul>"},{"location":"installation/#schema-validation-errors","title":"Schema validation errors","text":"<ul> <li>Ensure the schema package is up to date</li> <li>Use <code>rhylthyme validate program.json --verbose</code> for details</li> </ul>"},{"location":"installation/#development-installation","title":"Development Installation","text":"<pre><code>pip install -e ./rhylthyme-spec[dev]\npip install -e ./rhylthyme-cli-runner[dev]\n</code></pre>"},{"location":"quick-start/","title":"Quick Start Guide","text":""},{"location":"quick-start/#install","title":"Install","text":"<pre><code># Requires Python &gt;= 3.12\npython3.12 -m venv .venv &amp;&amp; source .venv/bin/activate\n\ngit clone https://github.com/rhylthyme/rhylthyme-spec.git\ngit clone https://github.com/rhylthyme/rhylthyme-cli-runner.git\n\npip install -e ./rhylthyme-spec\npip install -e ./rhylthyme-cli-runner\n</code></pre>"},{"location":"quick-start/#your-first-program","title":"Your First Program","text":"<p>Create a file <code>pasta.json</code>:</p> <pre><code>{\n  \"programId\": \"pasta-dinner\",\n  \"name\": \"Pasta Dinner\",\n  \"tracks\": [\n    {\n      \"trackId\": \"cooking\",\n      \"name\": \"Cooking\",\n      \"steps\": [\n        {\n          \"stepId\": \"boil-water\",\n          \"name\": \"Boil Water\",\n          \"task\": \"boiling\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 300},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"cook-pasta\",\n          \"name\": \"Cook Pasta\",\n          \"task\": \"cooking\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 600},\n          \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"boil-water\"}\n        },\n        {\n          \"stepId\": \"make-sauce\",\n          \"name\": \"Make Sauce\",\n          \"task\": \"cooking\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 900},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"quick-start/#validate-and-run","title":"Validate and Run","text":"<pre><code># Validate the program\nrhylthyme validate pasta.json\n\n# Run interactively\nrhylthyme run pasta.json\n</code></pre>"},{"location":"quick-start/#interactive-controls","title":"Interactive Controls","text":"Key Action Space Start/pause program S Step through execution T Trigger manual steps Q Quit \u00b1 Adjust time scale O Change sort order"},{"location":"quick-start/#cli-commands","title":"CLI Commands","text":"Command Description <code>rhylthyme validate FILES...</code> Validate program files against the schema <code>rhylthyme run PROGRAM</code> Run a program with interactive UI <code>rhylthyme plan INPUT OUTPUT</code> Optimize a program schedule <code>rhylthyme environments</code> List available environment catalogs <code>rhylthyme validate-environments</code> Validate environment catalog files <code>rhylthyme environment-info TYPE</code> Show info about an environment type"},{"location":"quick-start/#common-options","title":"Common Options","text":"<pre><code># Validate with verbose output, JSON format, strict mode\nrhylthyme validate program.json --verbose --json --strict\n\n# Validate against a specific schema version\nrhylthyme validate program.json --schema path/to/schema.json\n\n# Run with environment for resource validation\nrhylthyme run program.json -e environments/kitchen.json\n\n# Run with time scaling and auto-start\nrhylthyme run program.json --time-scale 10 --auto-start\n\n# Optimize a program\nrhylthyme plan input.json optimized.json -e environments/kitchen.json\n</code></pre>"},{"location":"quick-start/#using-environments-optional","title":"Using Environments (Optional)","text":"<p>Environments model real-world resource constraints. They are completely optional.</p> <pre><code># Clone examples with environments\ngit clone https://github.com/rhylthyme/rhylthyme-examples.git\ncd rhylthyme-examples\n\n# List available environments\nrhylthyme environments\n\n# Run with resource validation\nrhylthyme run programs/pasta_dinner.json -e environments/kitchen.json\n</code></pre>"},{"location":"quick-start/#web-visualization","title":"Web Visualization","text":"<pre><code># Install the web package\npip install -e ./rhylthyme-web\n\n# Run the web server\nrhylthyme-web\n\n# Open http://127.0.0.1:5000 in your browser\n</code></pre> <p>The web UI provides DAG visualization and an AI chat interface that can import recipes from TheMealDB and lab protocols from protocols.io.</p>"},{"location":"quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Environment Guide - Working with resource constraints</li> <li>Examples - Real-world examples</li> <li>CLI Reference - Full command documentation</li> <li>Program Schema - Complete schema reference</li> </ul>"},{"location":"api/cli/","title":"CLI Commands Reference","text":""},{"location":"api/cli/#command-overview","title":"Command Overview","text":"<pre><code>rhylthyme [OPTIONS] COMMAND [ARGS]...\n</code></pre>"},{"location":"api/cli/#global-options","title":"Global Options","text":"Option Description Default <code>--environments-dir PATH</code> Directory containing environment catalogs Current directory <code>--verbose</code> Enable verbose output False <code>--help</code> Show help message -"},{"location":"api/cli/#validate","title":"<code>validate</code>","text":"<p>Validates one or more program files against the schema.</p> <pre><code>rhylthyme validate [OPTIONS] PROGRAM_FILES...\n</code></pre> <p>Arguments:</p> <ul> <li><code>PROGRAM_FILES</code>: One or more program files to validate</li> </ul> <p>Options:</p> Option Description <code>--schema PATH</code> Path to a specific schema file <code>-e, --environment PATH</code> Environment file for resource validation <code>--verbose, -v</code> Verbose validation output <code>--json, -j</code> Output results in JSON format <code>--strict, -s</code> Enable strict validation mode <p>Examples:</p> <pre><code># Validate a single file\nrhylthyme validate program.json\n\n# Validate multiple files\nrhylthyme validate programs/*.json\n\n# Validate with verbose JSON output\nrhylthyme validate program.json --verbose --json\n\n# Validate with environment resource checking\nrhylthyme validate program.json -e environments/kitchen.json\n\n# Strict mode validation\nrhylthyme validate program.json --strict\n</code></pre>"},{"location":"api/cli/#run","title":"<code>run</code>","text":"<p>Runs a program with an interactive terminal UI.</p> <pre><code>rhylthyme run [OPTIONS] PROGRAM\n</code></pre> <p>Arguments:</p> <ul> <li><code>PROGRAM</code>: Path to the program file to run</li> </ul> <p>Options:</p> Option Description <code>--schema PATH</code> Path to a specific schema file <code>-e, --environment PATH</code> Environment file for resource validation <code>--time-scale FLOAT</code> Time scaling factor <code>--validate / --no-validate</code> Enable/disable pre-run validation <code>--auto-start</code> Automatically start program execution <p>Interactive Controls:</p> Key Action Space Start/pause program execution S Step through execution T Trigger manual steps Q Quit the program \u00b1 Adjust time scale O Change sort order <p>Examples:</p> <pre><code># Run a program\nrhylthyme run program.json\n\n# Run with environment\nrhylthyme run program.json -e environments/kitchen.json\n\n# Run with time scaling and auto-start\nrhylthyme run program.json --time-scale 10 --auto-start\n\n# Run without pre-validation\nrhylthyme run program.json --no-validate\n</code></pre>"},{"location":"api/cli/#plan","title":"<code>plan</code>","text":"<p>Optimizes a program schedule to reduce resource conflicts.</p> <pre><code>rhylthyme plan [OPTIONS] INPUT OUTPUT\n</code></pre> <p>Arguments:</p> <ul> <li><code>INPUT</code>: Path to the input program file</li> <li><code>OUTPUT</code>: Path to save the optimized program file</li> </ul> <p>Options:</p> Option Description <code>-e, --environment PATH</code> Environment file for resource constraints <code>--verbose, -v</code> Verbose output <p>Examples:</p> <pre><code># Optimize a program\nrhylthyme plan input.json optimized.json\n\n# Optimize with environment constraints\nrhylthyme plan input.json optimized.json -e environments/kitchen.json --verbose\n</code></pre>"},{"location":"api/cli/#environments","title":"<code>environments</code>","text":"<p>Lists all available environment catalogs.</p> <pre><code>rhylthyme environments [OPTIONS]\n</code></pre> <p>Options:</p> Option Description Default <code>--format FORMAT</code> Output format (json, yaml, table) table <p>Examples:</p> <pre><code>rhylthyme environments\nrhylthyme environments --format json\nrhylthyme environments --format yaml\n</code></pre>"},{"location":"api/cli/#validate-environments","title":"<code>validate-environments</code>","text":"<p>Validates all environment catalog files.</p> <pre><code>rhylthyme validate-environments [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>--verbose</code> Verbose validation output"},{"location":"api/cli/#environment-info","title":"<code>environment-info</code>","text":"<p>Shows information about a specific environment type.</p> <pre><code>rhylthyme environment-info TYPE\n</code></pre> <p>Arguments:</p> <ul> <li><code>TYPE</code>: Environment type (kitchen, laboratory, airport, bakery)</li> </ul>"},{"location":"api/cli/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>RHYLTHYME_ENVIRONMENTS_DIR</code> Default directory for environment catalogs Current directory"},{"location":"api/cli/#related-documentation","title":"Related Documentation","text":"<ul> <li>Installation Guide</li> <li>Quick Start Guide</li> <li>Program Schema Reference</li> <li>Environment Schema Reference</li> </ul>"},{"location":"api/environment-schema/","title":"Environment Schema Reference","text":"<p>Environments define resource constraints and capabilities. They are completely optional.</p>"},{"location":"api/environment-schema/#root-schema","title":"Root Schema","text":"Field Type Required Description <code>environmentId</code> string Yes Unique identifier <code>name</code> string Yes Human-readable name <code>description</code> string No Description <code>type</code> string Yes Environment type: <code>kitchen</code>, <code>laboratory</code>, <code>airport</code>, <code>bakery</code>, <code>custom</code> <code>version</code> string No Version <code>author</code> string No Author <code>created</code> string (date-time) No Creation timestamp <code>tags</code> array of string No Tags for categorization <code>resources</code> array of Resource Yes List of resources <code>metadata</code> object No Additional metadata"},{"location":"api/environment-schema/#resource-schema","title":"Resource Schema","text":"Field Type Required Description <code>resourceId</code> string Yes Unique identifier <code>name</code> string Yes Human-readable name <code>description</code> string No Description <code>type</code> string Yes Resource type <code>capacity</code> number (&gt;= 1) Yes Maximum capacity <code>location</code> string No Location info <code>status</code> string No <code>available</code> (default), <code>maintenance</code>, or <code>out-of-service</code> <code>metadata</code> object No Additional metadata"},{"location":"api/environment-schema/#resource-types-by-environment","title":"Resource Types by Environment","text":""},{"location":"api/environment-schema/#kitchen","title":"Kitchen","text":"Type Description <code>stove-burner</code> Cooking burners <code>prep-station</code> Food preparation areas <code>cleanup-station</code> Cleaning and dishwashing"},{"location":"api/environment-schema/#laboratory","title":"Laboratory","text":"Type Description <code>bench-space</code> Work bench areas <code>equipment</code> Lab equipment (centrifuges, etc.) <code>safety-station</code> Fume hoods, eyewash stations"},{"location":"api/environment-schema/#airport","title":"Airport","text":"Type Description <code>runway</code> Aircraft runways <code>gate</code> Passenger boarding gates <code>taxiway</code> Ground movement paths"},{"location":"api/environment-schema/#bakery","title":"Bakery","text":"Type Description <code>mixer</code> Dough mixing equipment <code>oven</code> Baking ovens <code>work-bench</code> Work surfaces"},{"location":"api/environment-schema/#example","title":"Example","text":"<pre><code>{\n  \"environmentId\": \"home-kitchen\",\n  \"name\": \"Home Kitchen\",\n  \"type\": \"kitchen\",\n  \"description\": \"A typical home kitchen\",\n  \"resources\": [\n    {\n      \"resourceId\": \"stove-burner-1\",\n      \"name\": \"Stove Burner 1\",\n      \"type\": \"stove-burner\",\n      \"capacity\": 1\n    },\n    {\n      \"resourceId\": \"stove-burner-2\",\n      \"name\": \"Stove Burner 2\",\n      \"type\": \"stove-burner\",\n      \"capacity\": 1\n    },\n    {\n      \"resourceId\": \"prep-station-1\",\n      \"name\": \"Prep Station\",\n      \"type\": \"prep-station\",\n      \"capacity\": 1\n    },\n    {\n      \"resourceId\": \"cleanup-station-1\",\n      \"name\": \"Cleanup Station\",\n      \"type\": \"cleanup-station\",\n      \"capacity\": 1\n    }\n  ]\n}\n</code></pre>"},{"location":"api/environment-schema/#validation-rules","title":"Validation Rules","text":"<ul> <li>All <code>environmentId</code> and <code>resourceId</code> values must be unique</li> <li>Resource capacity must be positive</li> <li>Resource types should match environment type conventions</li> <li>Resource status must be <code>available</code>, <code>maintenance</code>, or <code>out-of-service</code></li> </ul>"},{"location":"api/environment-schema/#related-documentation","title":"Related Documentation","text":"<ul> <li>Environment Guide</li> <li>Program Schema Reference</li> <li>CLI Commands Reference</li> </ul>"},{"location":"api/schema/","title":"Program Schema Reference","text":"<p>Programs are defined in JSON and describe workflows with tracks, steps, timing dependencies, and optional resource requirements.</p>"},{"location":"api/schema/#root-schema","title":"Root Schema","text":"Field Type Required Description <code>programId</code> string Yes Unique identifier for the program <code>name</code> string Yes Human-readable name <code>description</code> string No Description of the program <code>version</code> string No Program version <code>author</code> string No Program author <code>created</code> string (date-time) No Creation timestamp <code>tracks</code> array of Track Yes List of tracks (min 1) <code>environment</code> string No Environment ID for resource validation <code>resourceConstraints</code> array No Resource constraint definitions <code>metadata</code> object No Additional metadata"},{"location":"api/schema/#track-schema","title":"Track Schema","text":"Field Type Required Description <code>trackId</code> string Yes Unique identifier for the track <code>name</code> string Yes Human-readable name <code>description</code> string No Description of the track <code>steps</code> array of Step Yes List of steps (min 1)"},{"location":"api/schema/#step-schema","title":"Step Schema","text":"Field Type Required Description <code>stepId</code> string Yes Unique identifier for the step <code>name</code> string Yes Human-readable name <code>description</code> string No Description of the step <code>task</code> string Yes Task type or description <code>duration</code> Duration Yes Duration specification <code>startTrigger</code> StartTrigger Yes When this step starts <code>resources</code> array No Resource requirements <code>notes</code> string No Additional notes <code>metadata</code> object No Additional metadata"},{"location":"api/schema/#duration-types","title":"Duration Types","text":""},{"location":"api/schema/#fixed-duration","title":"Fixed Duration","text":"<pre><code>{\n  \"type\": \"fixed\",\n  \"seconds\": 600\n}\n</code></pre> Field Type Required Description <code>type</code> <code>\"fixed\"</code> Yes Duration type <code>seconds</code> number (&gt;= 0) Yes Duration in seconds"},{"location":"api/schema/#variable-duration","title":"Variable Duration","text":"<pre><code>{\n  \"type\": \"variable\",\n  \"minSeconds\": 300,\n  \"maxSeconds\": 900,\n  \"defaultSeconds\": 600,\n  \"optimalSeconds\": 500\n}\n</code></pre> Field Type Required Description <code>type</code> <code>\"variable\"</code> Yes Duration type <code>minSeconds</code> number (&gt;= 0) Yes Minimum duration in seconds <code>maxSeconds</code> number (&gt;= 0) Yes Maximum duration in seconds <code>defaultSeconds</code> number No Default duration in seconds <code>optimalSeconds</code> number No Optimal duration in seconds"},{"location":"api/schema/#start-trigger-types","title":"Start Trigger Types","text":""},{"location":"api/schema/#programstart","title":"<code>programStart</code>","text":"<p>Step starts when the program begins.</p> <pre><code>{\"type\": \"programStart\"}\n</code></pre>"},{"location":"api/schema/#programstartoffset","title":"<code>programStartOffset</code>","text":"<p>Step starts after an offset from program start.</p> <pre><code>{\"type\": \"programStartOffset\", \"offsetSeconds\": 60}\n</code></pre>"},{"location":"api/schema/#afterstep","title":"<code>afterStep</code>","text":"<p>Step starts immediately after another step ends.</p> <pre><code>{\"type\": \"afterStep\", \"stepId\": \"boil-water\"}\n</code></pre>"},{"location":"api/schema/#afterstepwithbuffer","title":"<code>afterStepWithBuffer</code>","text":"<p>Step starts after another step ends plus a buffer time.</p> <pre><code>{\"type\": \"afterStepWithBuffer\", \"stepId\": \"boil-water\", \"bufferSeconds\": 30}\n</code></pre>"},{"location":"api/schema/#manual","title":"<code>manual</code>","text":"<p>Step must be triggered manually by the user.</p> <pre><code>{\"type\": \"manual\"}\n</code></pre>"},{"location":"api/schema/#onabort","title":"<code>onAbort</code>","text":"<p>Step triggers when another step is aborted.</p> <pre><code>{\"type\": \"onAbort\", \"stepId\": \"risky-step\"}\n</code></pre>"},{"location":"api/schema/#resource-requirement-schema","title":"Resource Requirement Schema","text":"Field Type Required Description <code>resourceId</code> string Yes ID of the required resource <code>type</code> string Yes Type of the required resource <code>quantity</code> number (&gt;= 1) Yes Quantity required <code>description</code> string No Description"},{"location":"api/schema/#resource-constraint-schema","title":"Resource Constraint Schema","text":"Field Type Required Description <code>task</code> string Yes Task type this constraint applies to <code>maxConcurrent</code> number Yes Maximum concurrent instances <code>description</code> string No Description"},{"location":"api/schema/#complete-example","title":"Complete Example","text":"<pre><code>{\n  \"programId\": \"pasta-dinner\",\n  \"name\": \"Pasta Dinner\",\n  \"description\": \"A simple pasta dinner program\",\n  \"version\": \"1.0.0\",\n  \"tracks\": [\n    {\n      \"trackId\": \"cooking\",\n      \"name\": \"Cooking Track\",\n      \"steps\": [\n        {\n          \"stepId\": \"boil-water\",\n          \"name\": \"Boil Water\",\n          \"task\": \"boiling\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 300},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"cook-pasta\",\n          \"name\": \"Cook Pasta\",\n          \"task\": \"cooking\",\n          \"duration\": {\n            \"type\": \"variable\",\n            \"minSeconds\": 480,\n            \"maxSeconds\": 720,\n            \"defaultSeconds\": 600\n          },\n          \"startTrigger\": {\"type\": \"afterStep\", \"stepId\": \"boil-water\"}\n        },\n        {\n          \"stepId\": \"make-sauce\",\n          \"name\": \"Make Sauce\",\n          \"task\": \"cooking\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 900},\n          \"startTrigger\": {\"type\": \"programStart\"}\n        },\n        {\n          \"stepId\": \"plate\",\n          \"name\": \"Plate and Serve\",\n          \"task\": \"preparation\",\n          \"duration\": {\"type\": \"fixed\", \"seconds\": 120},\n          \"startTrigger\": {\"type\": \"manual\"}\n        }\n      ]\n    }\n  ],\n  \"resourceConstraints\": [\n    {\"task\": \"cooking\", \"maxConcurrent\": 4, \"description\": \"Stove burners\"},\n    {\"task\": \"boiling\", \"maxConcurrent\": 2, \"description\": \"Pots\"}\n  ]\n}\n</code></pre>"},{"location":"api/schema/#validation-rules","title":"Validation Rules","text":"<ul> <li>All <code>programId</code>, <code>trackId</code>, and <code>stepId</code> values must be unique within their scope</li> <li>Step references in triggers must refer to existing steps</li> <li>Duration values must be non-negative</li> <li>Resource quantities must be positive</li> <li>Programs must have at least one track; tracks must have at least one step</li> </ul>"},{"location":"api/schema/#related-documentation","title":"Related Documentation","text":"<ul> <li>CLI Commands Reference</li> <li>Environment Schema Reference</li> <li>Examples</li> </ul>"},{"location":"development/architecture/","title":"Architecture","text":"<p>Rhylthyme is a modular system with clear separation of concerns across five packages.</p>"},{"location":"development/architecture/#system-overview","title":"System Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Rhylthyme Ecosystem                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 rhylthyme-  \u2502 rhylthyme-  \u2502 rhylthyme-   \u2502 rhylthyme- \u2502 rhylthyme- \u2502\n\u2502 spec        \u2502 cli-runner  \u2502 web          \u2502 importers  \u2502 examples   \u2502\n\u2502             \u2502             \u2502              \u2502            \u2502            \u2502\n\u2502 Schemas     \u2502 CLI         \u2502 Flask App    \u2502 TheMealDB  \u2502 Programs   \u2502\n\u2502 Validation  \u2502 Execution   \u2502 DAG Viz      \u2502 protocols  \u2502 Environ-   \u2502\n\u2502 Types       \u2502 Interactive \u2502 MCP Server   \u2502 .io        \u2502 ments      \u2502\n\u2502             \u2502 UI          \u2502 AI Chat      \u2502            \u2502            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"development/architecture/#packages","title":"Packages","text":""},{"location":"development/architecture/#rhylthyme-spec","title":"rhylthyme-spec","text":"<p>Schema definitions and validation logic.</p> <ul> <li><code>schemas/</code> - JSON schema files for programs and environments</li> <li><code>validation.py</code> - Schema and semantic validation</li> <li><code>types.py</code> - Python type definitions</li> </ul>"},{"location":"development/architecture/#rhylthyme-cli-runner","title":"rhylthyme-cli-runner","text":"<p>Command-line interface and interactive program execution.</p> <ul> <li><code>cli.py</code> - Click-based CLI with commands: validate, run, plan, environments</li> <li><code>program_runner.py</code> - Real-time program execution engine with terminal UI</li> <li><code>program_planner.py</code> - Schedule optimization</li> <li><code>validate_program.py</code> - Program validation</li> <li><code>environment_loader.py</code> - Environment catalog loading</li> <li><code>environment_schemas.py</code> - Environment type definitions</li> </ul>"},{"location":"development/architecture/#rhylthyme-web","title":"rhylthyme-web","text":"<p>Web visualization, MCP server, and AI chat.</p> <ul> <li><code>app.py</code> - Flask application with embedded HTML/JS (single-file app)</li> <li><code>web/web_visualizer.py</code> - D3.js DAG visualization generator</li> <li><code>mcp/server.py</code> - MCP server for AI tool integration</li> <li><code>rhylthyme/</code> - Core library for program manipulation</li> </ul>"},{"location":"development/architecture/#rhylthyme-importers","title":"rhylthyme-importers","text":"<p>Plugins for importing programs from external sources.</p> <ul> <li><code>base.py</code> - BaseImporter class and ImporterRegistry</li> <li><code>themealdb.py</code> - Import recipes from TheMealDB API</li> <li><code>protocolsio.py</code> - Import lab protocols from protocols.io API</li> </ul>"},{"location":"development/architecture/#rhylthyme-examples","title":"rhylthyme-examples","text":"<p>Working examples of programs and environment catalogs.</p> <ul> <li><code>programs/</code> - Example program JSON files</li> <li><code>environments/</code> - Environment catalog JSON files</li> </ul>"},{"location":"development/architecture/#data-flow","title":"Data Flow","text":""},{"location":"development/architecture/#cli-execution","title":"CLI Execution","text":"<pre><code>User Input \u2192 CLI Parsing \u2192 Program Loading \u2192 Validation \u2192 Execution \u2192 Interactive UI\n                                  \u2191\n                          Environment Loading (optional)\n</code></pre>"},{"location":"development/architecture/#web-flow","title":"Web Flow","text":"<pre><code>Browser \u2192 Flask App \u2192 AI Chat (Anthropic API) \u2192 Tool Calls \u2192 Importers \u2192 DAG Visualization\n</code></pre>"},{"location":"development/architecture/#import-flow","title":"Import Flow","text":"<pre><code>External API (TheMealDB/protocols.io) \u2192 Importer Plugin \u2192 Rhylthyme Program JSON \u2192 Visualization\n</code></pre>"},{"location":"development/architecture/#key-design-decisions","title":"Key Design Decisions","text":"<ol> <li>Schema-First: JSON schemas define all data structures; validation is automatic</li> <li>Optional Environments: Programs run without environments; add them for resource validation</li> <li>Modular Packages: Each concern is a separate installable package</li> <li>Single-File Web App: <code>app.py</code> contains HTML, CSS, JS, and all endpoints for easy deployment</li> <li>Plugin Architecture: Importers use a registry pattern for extensibility</li> </ol>"},{"location":"development/architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>Contributing Guide</li> <li>CLI Reference</li> <li>Program Schema</li> </ul>"},{"location":"development/contributing/","title":"Contributing","text":""},{"location":"development/contributing/#getting-started","title":"Getting Started","text":"<pre><code># Clone all repos\ngit clone https://github.com/rhylthyme/rhylthyme-spec.git\ngit clone https://github.com/rhylthyme/rhylthyme-cli-runner.git\ngit clone https://github.com/rhylthyme/rhylthyme-web.git\ngit clone https://github.com/rhylthyme/rhylthyme-importers.git\ngit clone https://github.com/rhylthyme/rhylthyme-examples.git\n\n# Create venv (Python 3.12+)\npython3.12 -m venv .venv\nsource .venv/bin/activate\n\n# Install in development mode\npip install -e ./rhylthyme-spec[dev]\npip install -e ./rhylthyme-cli-runner[dev]\npip install -e ./rhylthyme-web\npip install -e ./rhylthyme-importers[dev]\n</code></pre>"},{"location":"development/contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run tests for a specific package\ncd rhylthyme-cli-runner &amp;&amp; pytest\ncd rhylthyme-examples &amp;&amp; pytest\n</code></pre>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<ul> <li>Python 3.12+ features are welcome</li> <li>Use type hints where practical</li> <li>Follow existing patterns in each package</li> </ul>"},{"location":"development/contributing/#submitting-changes","title":"Submitting Changes","text":"<ol> <li>Fork the relevant repository</li> <li>Create a feature branch</li> <li>Make your changes with tests</li> <li>Submit a pull request</li> </ol>"},{"location":"development/contributing/#repository-links","title":"Repository Links","text":"<ul> <li>rhylthyme-spec</li> <li>rhylthyme-cli-runner</li> <li>rhylthyme-web</li> <li>rhylthyme-importers</li> <li>rhylthyme-examples</li> </ul>"}]}